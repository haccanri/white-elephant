# 白象礼物交换游戏策略研究
## 目的

研究白象礼物交换游戏的策略，试图研究给定目标下的最优策略。

## 游戏规则

看起来有很多版本，我们先研究一个比较简单的版本。

1. 每位参与者需要带一件礼物并包好，不能让人知道是什么。所有参与者围成一圈将礼物放在中间，抽签决定每个人选礼物的顺序。
2. 第一个人从礼物堆中拿一个礼物并拆开，第一回合结束。
3. 接下来每一回合，每个人可以选择从礼物堆中选一件未拆开的礼物，或“偷”一件别人已经拆开的礼物。被“偷”走礼物的人可以选择从礼物堆中选一件，或再去“偷”另一个人的礼物替代。不能立刻偷回被偷走礼物。（一件礼物最多可以被偷两次）
4. 最后一个人选好礼物后，游戏结束。

## 问题抽象

为了简化问题，我们先考虑简单版本

1. 大家事先知道礼物是什么
2. 所有人对礼物的排序是一致的

进一步简化，假设有n个人，n件礼物。

1. n个礼物为1到n的数字，可以理解为钱
2. 所有人都想拿到更多的钱

我们假设所有人都是理性人，并足够聪明，可以做出最有利于自己的选择。

## 简单案例分析

假设有3个人，我们得到的结论是

1. 第一个人一定会拿到1，最差的结果
2. 第二个人以1/6的概率（1抽到2，2偷1，1再次抽到3）拿到3
3. 第三个人以5/6的概率拿到3，1/6概率拿到2

### 目前推断的规律

1. 越往后的人越有利。
2. 为了得到自己最想要的，可能要偷次之的礼物来曲线救国。
3. 如果相邻k个人合谋，至少可以获取一件商品，但会冒着其他想要的礼物被别人抢走的风险。

## 数值计算

假设有n个人，n件礼物，礼物最多被偷k=2次。

1. n个礼物为1到n的数字，可以理解为钱
2. 所有人都想拿到更多的钱

